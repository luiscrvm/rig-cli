# Kubernetes Configuration

This Kubernetes configuration was generated by Rig CLI for your devops-cli.

## Applications

- **devops-cli**: web application running on port 8080

## Structure

```
k8s/
├── base/                    # Base configuration
│   ├── namespace.yaml      # Namespace definitions
│   ├── network-policies.yaml # Network policies
│   └── kustomization.yaml  # Base kustomization
├── overlays/               # Environment-specific overlays
│   ├── dev/               # Development environment
│   ├── staging/           # Staging environment
│   └── prod/              # Production environment
├── devops-cli/              # devops-cli application manifests
└── README.md              # This file
```

## Deployment

### Using kubectl with Kustomize

```bash
# Deploy to development
kubectl apply -k overlays/dev

# Deploy to staging
kubectl apply -k overlays/staging

# Deploy to production
kubectl apply -k overlays/prod
```

### Using Helm (if Helm chart was generated)

```bash
# Install/upgrade release
helm upgrade --install my-app ./helm-chart

# Install with custom values
helm upgrade --install my-app ./helm-chart -f values-prod.yaml
```

## Prerequisites

1. A running Kubernetes cluster
2. kubectl configured to access your cluster
3. NGINX Ingress Controller (for ingress resources)
4. cert-manager (for TLS certificates)

## Security Features

- Non-root containers with read-only root filesystem
- Resource limits and requests defined
- Network policies for traffic control
- Security contexts configured
- Liveness and readiness probes

## Monitoring & Scaling

- Horizontal Pod Autoscaler configured for web applications
- Resource-based scaling on CPU and memory
- Health checks for application monitoring

## Customization

1. Update image names in deployment.yaml files
2. Modify resource limits based on your needs
3. Update ingress hostnames
4. Configure environment-specific values in overlays

## Generated by Rig CLI

This configuration was automatically generated by Rig CLI.
- Run `rig generate kubernetes` to regenerate
- Run `rig security --scan` to check for security issues
- Run `rig generate monitoring` to add observability
